# SuperHoneyPotGuard

## 项目简介

SuperHoneyPotGuard 是一个基于 HFish 蜜罐平台的主动防御系统。该系统通过对 HFish 蜜罐捕获的威胁安全数据进行深度分析，根据威胁等级自动执行 IP 封禁策略，实现对恶意攻击的主动防御。

## 核心功能

### 1. 用户管理功能
- 支持多用户登录与权限管理
- 提供用户角色分配与权限控制
- 支持用户信息维护与操作日志记录

### 2. HFish 数据汇总面板功能
- 实时展示 HFish 蜜罐捕获的威胁数据
- 提供威胁事件统计与可视化展示
- 支持威胁等级分类与趋势分析
- 提供攻击源 IP、攻击类型、攻击频率等多维度数据展示

### 3. 手动和自动封禁 IP 功能
- **手动封禁**：支持管理员根据威胁情报手动添加 IP 封禁规则
- **自动封禁**：根据预设的威胁等级阈值自动触发 IP 封禁
- 支持封禁时长设置与定时解封
- 提供封禁记录查询与管理功能

### 4. 自动封禁策略制定功能
- 支持自定义封禁策略规则
- 可根据攻击类型、威胁等级、攻击频率等条件制定策略
- 提供策略优先级设置与冲突解决机制
- 支持策略的启用、禁用与版本管理

## 技术架构

- **数据采集层**：对接 HFish 蜜罐平台 API，实时获取威胁数据
- **数据分析层**：对采集的威胁数据进行处理、分析与威胁等级评估
- **策略引擎层**：根据预设策略自动判断是否需要执行封禁操作
- **执行层**：执行 IP 封禁操作，支持多种防火墙与安全设备集成
- **展示层**：提供 Web 管理界面，展示数据汇总与操作管理功能

## 防御原理

系统通过 HFish 蜜罐平台模拟真实服务，吸引攻击者进行攻击。当攻击者对蜜罐发起攻击时，HFish 会记录攻击行为的相关信息，包括攻击源 IP、攻击类型、攻击时间、攻击载荷等。SuperHoneyPotGuard 系统实时获取这些数据，通过分析算法评估威胁等级，当威胁等级达到预设阈值时，自动触发封禁策略，将攻击源 IP 加入黑名单，从而实现对恶意攻击的主动防御。

## 项目目标

- 构建一个高效、智能的主动防御平台
- 实现对威胁数据的实时分析与响应
- 提高网络安全防护的自动化水平
- 降低人工运维成本，提升安全防护效率

## 开发进度

### 邮箱验证码功能实现进度

**总体进度：75% (3/4 任务完成)**

```
███████████████████████████████████████████████████████████████████████████████░░░░ 75%
```

#### 任务列表

- ✅ 探索go-admin-main项目的邮箱验证码实现
- ✅ 分析参考项目的邮件发送逻辑
- 🔄 修复当前项目的emailService.go的SMTP连接问题
- ⏳ 测试修改后的邮件发送功能

#### 功能说明

- 用户注册时发送验证码到163邮箱
- 用户使用邮箱验证码完成注册
- 用户可通过邮箱验证码重置密码
- 验证码5分钟有效期，自动清理过期验证码

#### 技术实现

- **邮件库**：gomail.v2
- **SMTP服务**：163邮箱SMTP服务
- **邮件格式**：HTML邮件模板
- **验证码存储**：内存中验证码存储机制
- **加密算法**：crypto/rand生成安全验证码
