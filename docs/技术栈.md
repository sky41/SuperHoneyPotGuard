# SuperHoneyPotGuard 技术栈

## 提交目的
编写完整的项目技术栈文档，详细说明项目所使用的技术选型、框架、工具和库。

## 提交内容
- 后端技术栈（Go 语言）
- 前端技术栈（React）
- 数据库技术栈
- 开发工具和部署工具
- 项目架构说明

## 提交时间
2026-01-17

---

## 一、后端技术栈

### 1.1 编程语言
- **Go 1.21+**
  - 高性能、并发支持好
  - 编译型语言，部署简单
  - 标准库丰富，开发效率高

### 1.2 Web 框架
- **Gin**
  - 高性能 HTTP Web 框架
  - 路由性能优秀
  - 中间件支持完善
  - JSON 验证和渲染

### 1.3 数据库 ORM
- **GORM**
  - 功能强大的 ORM 库
  - 支持自动迁移
  - 链式操作，代码简洁
  - 支持 MySQL、PostgreSQL 等多种数据库

### 1.4 数据库驱动
- **go-sql-driver/mysql**
  - MySQL 数据库驱动
  - 支持连接池
  - 性能优秀

### 1.5 认证与授权
- **golang-jwt/jwt**
  - JWT 令牌生成和验证
  - 支持多种签名算法
  - 令牌过期时间控制

### 1.6 密码加密
- **golang.org/x/crypto/bcrypt**
  - BCrypt 密码哈希算法
  - 安全性高，抗彩虹表攻击
  - 可配置加密成本

### 1.7 限流
- **golang.org/x/time/rate**
  - 令牌桶算法实现
  - 防止接口滥用
  - 保护系统稳定性

### 1.8 配置管理
- **joho/godotenv**
  - 环境变量管理
  - .env 文件支持
  - 配置与代码分离

### 1.9 日志
- **logrus**（备用）
  - 结构化日志
  - 支持多种日志级别
  - 可扩展的 Hooks 机制

---

## 二、前端技术栈

### 2.1 编程语言
- **JavaScript / TypeScript**
  - 现代前端开发标准
  - 生态丰富

### 2.2 框架
- **React 18.2+**
  - 组件化开发
  - 虚拟 DOM 性能优秀
  - Hooks 状态管理
  - 生态系统完善

### 2.3 路由
- **React Router 6.20+**
  - 声明式路由
  - 嵌套路由支持
  - 路由守卫和权限控制

### 2.4 UI 组件库
- **Ant Design 5.12+**
  - 企业级 UI 设计语言
  - 丰富的组件库
  - 主题定制支持
  - 国际化支持

### 2.5 HTTP 客户端
- **Axios 1.6+**
  - Promise 支持
  - 请求和响应拦截器
  - 自动转换 JSON 数据
  - 请求取消功能

### 2.6 构建工具
- **Vite 5.0+**
  - 快速的冷启动
  - 即时热模块替换（HMR）
  - 优化的生产构建
  - 原生 ESM 支持

### 2.7 日期处理
- **Day.js 1.11+**
  - 轻量级日期库
  - API 与 Moment.js 类似
  - 体积小，性能好

### 2.8 图标库
- **@ant-design/icons 5.2+**
  - Ant Design 官方图标库
  - SVG 图标
  - 支持主题定制

---

## 三、数据库技术栈

### 3.1 关系型数据库
- **MySQL 5.7+ / 8.0+**
  - 开源关系型数据库
  - ACID 事务支持
  - 主从复制
  - 丰富的存储引擎

### 3.2 数据库表结构
- **users** - 用户表
- **roles** - 角色表
- **permissions** - 权限表
- **user_roles** - 用户角色关联表
- **role_permissions** - 角色权限关联表
- **operation_logs** - 操作日志表

---

## 四、开发工具

### 4.1 版本控制
- **Git**
  - 分布式版本控制系统
  - 分支管理
  - 代码协作

### 4.2 代码编辑器
- **VS Code**
  - 轻量级编辑器
  - 丰富的插件生态
  - 智能代码补全

### 4.3 API 测试工具
- **Postman**
  - API 接口测试
  - 接口文档生成
  - 环境变量管理

---

## 五、项目架构

### 5.1 后端架构（Go）

```
code/api/
├── main.go                 # 程序入口
├── go.mod                  # Go 模块依赖
├── go.sum                  # 依赖版本锁定
├── .env.example            # 环境变量示例
├── config/                 # 配置包
│   └── config.go          # 配置加载
├── database/               # 数据库包
│   └── database.go        # 数据库初始化
├── models/                 # 数据模型包
│   └── models.go          # 数据模型定义
├── controllers/            # 控制器包
│   ├── authController.go   # 认证控制器
│   ├── userController.go   # 用户控制器
│   ├── roleController.go   # 角色控制器
│   └── permissionController.go # 权限控制器
├── middleware/             # 中间件包
│   ├── auth.go            # 认证中间件
│   ├── permission.go      # 权限中间件
│   ├── log.go            # 日志中间件
│   └── rateLimit.go      # 限流中间件
├── routes/                # 路由包
│   └── routes.go         # 路由定义
└── utils/                 # 工具包
    ├── jwt.go            # JWT 工具
    ├── password.go       # 密码工具
    └── response.go      # 响应工具
```

### 5.2 前端架构（React）

```
code/web/
├── index.html             # HTML 模板
├── package.json           # 项目依赖
├── vite.config.js        # Vite 配置
├── src/
│   ├── main.jsx          # 应用入口
│   ├── index.css        # 全局样式
│   ├── api/             # API 接口
│   │   └── index.js    # API 定义
│   ├── layouts/         # 布局组件
│   │   └── MainLayout.jsx # 主布局
│   ├── pages/           # 页面组件
│   │   ├── Login.jsx   # 登录页
│   │   ├── Dashboard.jsx # 首页
│   │   └── UserManage.jsx # 用户管理
│   └── utils/          # 工具函数
│       └── request.js  # HTTP 请求封装
```

### 5.3 分层架构

**后端分层：**
1. **路由层（Routes）** - 路由定义和分发
2. **中间件层（Middleware）** - 认证、权限、日志、限流
3. **控制器层（Controllers）** - 业务逻辑处理
4. **模型层（Models）** - 数据模型定义
5. **数据访问层（Database）** - 数据库操作

**前端分层：**
1. **视图层（Pages）** - 页面组件
2. **布局层（Layouts）** - 页面布局
3. **API 层（API）** - 接口调用
4. **工具层（Utils）** - 工具函数

---

## 六、核心功能实现

### 6.1 用户管理
- 用户注册、登录、注销
- 用户信息增删改查
- 用户状态管理
- 密码重置

### 6.2 角色管理
- 角色增删改查
- 角色权限分配
- 角色状态管理

### 6.3 权限管理
- 权限树形结构
- 权限增删改查
- 基于角色的访问控制（RBAC）

### 6.4 安全特性
- JWT 身份认证
- BCrypt 密码加密
- 接口权限验证
- 请求频率限制
- 操作日志记录
- SQL 注入防护
- XSS 防护

---

## 七、性能优化

### 7.1 后端优化
- 数据库连接池
- GORM 查询优化
- 限流保护
- 并发处理

### 7.2 前端优化
- Vite 快速构建
- 组件懒加载
- 代码分割
- 资源压缩

---

## 八、部署建议

### 8.1 后端部署
- 编译为可执行文件
- 使用 systemd 或 Docker 容器化
- 配置 Nginx 反向代理
- 启用 HTTPS

### 8.2 前端部署
- 构建静态资源
- 使用 Nginx 托管
- 配置 CDN 加速
- 启用 Gzip 压缩

---

## 九、开发规范

### 9.1 代码规范
- 遵循 Go 官方代码规范
- 使用 gofmt 格式化代码
- 函数和变量命名清晰
- 添加必要的注释

### 9.2 Git 提交规范
- 每次提交添加注释
- 注释包含：提交目的、提交内容、提交时间
- 使用语义化提交信息

### 9.3 API 设计规范
- RESTful API 设计
- 统一的响应格式
- 合理的 HTTP 状态码
- 完善的错误处理

---

## 十、技术选型理由

### 10.1 选择 Go 的原因
- 高性能，适合高并发场景
- 部署简单，单文件即可运行
- 内存占用低
- 并发模型优秀（Goroutine）
- 标准库丰富，减少第三方依赖

### 10.2 选择 React 的原因
- 组件化开发，代码复用性高
- 虚拟 DOM，性能优秀
- 生态系统完善
- 学习资源丰富
- 社区活跃

### 10.3 选择 MySQL 的原因
- 开源免费
- 性能稳定
- 支持事务
- 社区活跃
- 运维成熟

---

## 十一、未来扩展

### 11.1 后端扩展
- Redis 缓存集成
- 消息队列（RabbitMQ/Kafka）
- 微服务架构改造
- gRPC 支持
- Prometheus 监控

### 11.2 前端扩展
- TypeScript 迁移
- 状态管理（Redux/Zustand）
- 单元测试
- E2E 测试
- PWA 支持

---

## 十二、学习资源

### 12.1 Go 学习资源
- [Go 官方文档](https://go.dev/doc/)
- [Gin 框架文档](https://gin-gonic.com/docs/)
- [GORM 文档](https://gorm.io/docs/)

### 12.2 React 学习资源
- [React 官方文档](https://react.dev/)
- [Ant Design 文档](https://ant.design/)
- [Vite 文档](https://vitejs.dev/)
